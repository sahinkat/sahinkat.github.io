(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{273:function(e,t,a){"use strict";var r=a(157),n=a(270);t.a={getCases:function(e,t,a){var o=e.allDataObject,i=o[t];void 0===i.cases||0===i.cases.length?(i.cases=[],r.get("https://corona.lmao.ninja/v2/historical/"+i.CountryName+"?lastdays=365").then(function(r){var s=r.data,c=s.timeline.cases,l=s.timeline.deaths,u=0,d=0;for(var p in c)c.hasOwnProperty(p)&&(i.cases.push({Date:n(p,"MM/DD/YYYY").format("YYYY-MM-DD"),Key:t,Confirmed:c[p]>=u?c[p]:u,Deaths:l[p]|d,NewCases:c[p]>=u?c[p]-u:0,NewDeaths:l[p]-d|0}),u=c[p],d=l[p]);o[t]=i,e.allDataObject=o,a(e)}).catch(function(e){console.log(e)})):a(e)}}},424:function(e,t,a){var r,n,o;n=[e],void 0===(o="function"===typeof(r=function(e){"use strict";var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};function a(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var r={order:2,precision:2,period:null};function n(e,t){var a=[],r=[];e.forEach(function(e,n){null!==e[1]&&(r.push(e),a.push(t[n]))});var n=r.reduce(function(e,t){return e+t[1]},0),o=n/r.length,i=r.reduce(function(e,t){var a=t[1]-o;return e+a*a},0),s=r.reduce(function(e,t,r){var n=a[r],o=t[1]-n[1];return e+o*o},0);return 1-s/i}function o(e,t){var a=Math.pow(10,t);return Math.round(e*a)/a}var i={linear:function(e,t){for(var a=[0,0,0,0,0],r=0,i=0;i<e.length;i++)null!==e[i][1]&&(r++,a[0]+=e[i][0],a[1]+=e[i][1],a[2]+=e[i][0]*e[i][0],a[3]+=e[i][0]*e[i][1],a[4]+=e[i][1]*e[i][1]);var s=r*a[2]-a[0]*a[0],c=r*a[3]-a[0]*a[1],l=0===s?0:o(c/s,t.precision),u=o(a[1]/r-l*a[0]/r,t.precision),d=function(e){return[o(e,t.precision),o(l*e+u,t.precision)]},p=e.map(function(e){return d(e[0])});return{points:p,predict:d,equation:[l,u],r2:o(n(e,p),t.precision),string:0===u?"y = "+l+"x":"y = "+l+"x + "+u}},exponential:function(e,t){for(var a=[0,0,0,0,0,0],r=0;r<e.length;r++)null!==e[r][1]&&(a[0]+=e[r][0],a[1]+=e[r][1],a[2]+=e[r][0]*e[r][0]*e[r][1],a[3]+=e[r][1]*Math.log(e[r][1]),a[4]+=e[r][0]*e[r][1]*Math.log(e[r][1]),a[5]+=e[r][0]*e[r][1]);var i=a[1]*a[2]-a[5]*a[5],s=Math.exp((a[2]*a[3]-a[5]*a[4])/i),c=(a[1]*a[4]-a[5]*a[3])/i,l=o(s,t.precision),u=o(c,t.precision),d=function(e){return[o(e,t.precision),o(l*Math.exp(u*e),t.precision)]},p=e.map(function(e){return d(e[0])});return{points:p,predict:d,equation:[l,u],string:"y = "+l+"e^("+u+"x)",r2:o(n(e,p),t.precision)}},logarithmic:function(e,t){for(var a=[0,0,0,0],r=e.length,i=0;i<r;i++)null!==e[i][1]&&(a[0]+=Math.log(e[i][0]),a[1]+=e[i][1]*Math.log(e[i][0]),a[2]+=e[i][1],a[3]+=Math.pow(Math.log(e[i][0]),2));var s=(r*a[1]-a[2]*a[0])/(r*a[3]-a[0]*a[0]),c=o(s,t.precision),l=o((a[2]-c*a[0])/r,t.precision),u=function(e){return[o(e,t.precision),o(o(l+c*Math.log(e),t.precision),t.precision)]},d=e.map(function(e){return u(e[0])});return{points:d,predict:u,equation:[l,c],string:"y = "+l+" + "+c+" ln(x)",r2:o(n(e,d),t.precision)}},power:function(e,t){for(var a=[0,0,0,0,0],r=e.length,i=0;i<r;i++)null!==e[i][1]&&(a[0]+=Math.log(e[i][0]),a[1]+=Math.log(e[i][1])*Math.log(e[i][0]),a[2]+=Math.log(e[i][1]),a[3]+=Math.pow(Math.log(e[i][0]),2));var s=(r*a[1]-a[0]*a[2])/(r*a[3]-Math.pow(a[0],2)),c=(a[2]-s*a[0])/r,l=o(Math.exp(c),t.precision),u=o(s,t.precision),d=function(e){return[o(e,t.precision),o(o(l*Math.pow(e,u),t.precision),t.precision)]},p=e.map(function(e){return d(e[0])});return{points:p,predict:d,equation:[l,u],string:"y = "+l+"x^"+u,r2:o(n(e,p),t.precision)}},polynomial:function(e,t){for(var r=[],i=[],s=0,c=0,l=e.length,u=t.order+1,d=0;d<u;d++){for(var p=0;p<l;p++)null!==e[p][1]&&(s+=Math.pow(e[p][0],d)*e[p][1]);r.push(s),s=0;for(var m=[],h=0;h<u;h++){for(var f=0;f<l;f++)null!==e[f][1]&&(c+=Math.pow(e[f][0],d+h));m.push(c),c=0}i.push(m)}i.push(r);for(var v=function(e,t){for(var a=e,r=e.length-1,n=[t],o=0;o<r;o++){for(var i=o,s=o+1;s<r;s++)Math.abs(a[o][s])>Math.abs(a[o][i])&&(i=s);for(var c=o;c<r+1;c++){var l=a[c][o];a[c][o]=a[c][i],a[c][i]=l}for(var u=o+1;u<r;u++)for(var d=r;d>=o;d--)a[d][u]-=a[d][o]*a[o][u]/a[o][o]}for(var p=r-1;p>=0;p--){for(var m=0,h=p+1;h<r;h++)m+=a[h][p]*n[h];n[p]=(a[r][p]-m)/a[p][p]}return n}(i,u).map(function(e){return o(e,t.precision)}),g=function(e){return[o(e,t.precision),o(v.reduce(function(t,a,r){return t+a*Math.pow(e,r)},0),t.precision)]},C=e.map(function(e){return g(e[0])}),b="y = ",y=v.length-1;y>=0;y--)b+=y>1?v[y]+"x^"+y+" + ":1===y?v[y]+"x + ":v[y];return{string:b,points:C,predict:g,equation:[].concat(a(v)).reverse(),r2:o(n(e,C),t.precision)}}};e.exports=Object.keys(i).reduce(function(e,a){return t({_round:o},e,(c=function(e,n){return i[a](e,t({},r,n))},(s=a)in(n={})?Object.defineProperty(n,s,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[s]=c,n));var n,s,c},{})})?r.apply(t,n):r)||(e.exports=o)},431:function(e,t,a){"use strict";a.r(t);var r,n,o,i=a(43),s=a(44),c=a(46),l=a(45),u=a(47),d=a(42),p=a(1),m=a.n(p),h=a(275),f=a(269),v=a(276),g=a(279),C=a(280),b=a(424),y=a.n(b),E=a(91),M=a(273),x=a(158),k=a(270),w=["primary","warning","success","danger","info"],O=[Object(g.getStyle)("--primary"),Object(g.getStyle)("--warning"),Object(g.getStyle)("--success"),Object(g.getStyle)("--danger"),Object(g.getStyle)("--info")],D=[],j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).loading=function(){return m.a.createElement("div",{className:"animated fadeIn pt-1 text-center"},"Loading...")},a.train=a.train.bind(Object(d.a)(Object(d.a)(a))),a.predict=a.predict.bind(Object(d.a)(Object(d.a)(a))),a.state={maxConfirmed:18e4,mainChartOpts:{tooltips:{enabled:!1,custom:v.CustomTooltips,intersect:!0,mode:"index",position:"nearest",callbacks:{labelColor:function(e,t){return{backgroundColor:t.data.datasets[e.datasetIndex].borderColor}}}},maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{gridLines:{drawOnChartArea:!1}}],yAxes:[{ticks:{beginAtZero:!0,maxTicksLimit:40}}]},elements:{point:{radius:0,hitRadius:10,hoverRadius:4,hoverBorderWidth:3}}},countries:[{Key:"TR",CountryCode:"TR",CountryName:"Turkey"}],inputs:{selectedCountry:"",selectedCountries:[]},mainChart:{labels:[],datasets:[]},radioSelected:0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onCountryChange",value:function(e,t){var a=this;if(""!==(t=t.target.value)){var r=this.state.inputs;r.selectedCountries.push(t),this.setState({inputs:r})}M.a.getCases(e,t,function(e){a.drawCovidGraph(e)})}},{key:"onDismiss",value:function(e,t){if(""!==e){var a=this.state.inputs;x.remove(a.selectedCountries,function(t){return t===e}),this.setState({inputs:a})}this.drawCovidGraph(t)}},{key:"onRadioBtnClick",value:function(e,t){this.setState({radioSelected:e}),this.drawCovidGraph(t)}},{key:"onMaxConfirmedChange",value:function(e,t){""!==t.target.value&&this.setState({maxConfirmed:t.target.value}),this.drawCovidGraph(e)}},{key:"drawCovidGraph",value:function(e){var t=this,a=e.allDataObject,r=this.state.inputs.selectedCountries,n=this.state.mainChart,o=[];n.labels=[],n.datasets=[];var i="9999-99-99";r.forEach(function(e){var t=a[e];o.push(t),void 0!==t.cases&&t.cases.length>0&&i>t.cases[0].Date&&(i=t.cases[0].Date)});var s=new Date(i),c=new Date;for(c.setDate(c.getDate()+100);s<c;)n.labels.push(k(s).format("DD/MM/YYYY")),s.setDate(s.getDate()+1);var l=0,u=0,d=[],p=[],m=[];o.forEach(function(e){var a=[],r=0;n.labels.forEach(function(t){var n=x.find(e.cases,["Date",k(t,"DD/MM/YYYY").format("YYYY-MM-DD")]);void 0!==n?(a.push(n.Confirmed),r=n.Confirmed,d.push([u,n.Confirmed]),m.push(n.Confirmed)):(a.push(r),d.push([u,r]),m.push(r)),p.push(u),u++}),y.a.polynomial(d,{order:3}),1===t.state.radioSelected?a=Object(C.b)(a,3):2===t.state.radioSelected?a=Object(C.a)(a,3):3===t.state.radioSelected&&(a=Object(C.c)(a,3)),t.train(500,.2,m);var o=[],i=0;a.forEach(function(e){o.push(t.predict(i)),i++});for(var s=0;s<100;s++)o.push(t.predict(i+s));n.datasets.push({label:e.CountryName,backgroundColor:"transparent",borderColor:O[l],pointHoverBackgroundColor:"#fff",borderWidth:2,data:a}),n.datasets.push({label:"Prediction",backgroundColor:"transparent",borderColor:O[l+1],pointHoverBackgroundColor:"#fff",borderWidth:2,data:o}),l++}),this.setState({mainChart:n})}},{key:"train",value:function(e,t,a){var i=this;D=[],r=0,n=0,o=0;for(var s=function(){var e=0;a.forEach(function(a){var s,c;c=r*Math.pow(e,1.85)/100+n*e/100+o,s=1/(1+Math.exp(-c)),l=s-a/i.state.maxConfirmed,r+=t*-l*s*(1-s)*Math.pow(e,1.85)/100,n+=t*-l*s*(1-s)*e/100,o+=t*-l*s*(1-s)*1,e++}),D.push({error:l,epoch:c})},c=0;c<e;c++){var l;s()}}},{key:"predict",value:function(e){var t;return t=r*Math.pow(e,1.85)/100+n*e/100+o,this.state.maxConfirmed/(1+Math.exp(-t))}},{key:"render",value:function(){var e=this;return m.a.createElement(E.a,null,function(t){return m.a.createElement("div",{className:"animated fadeIn"},m.a.createElement(f.v,null,m.a.createElement(f.m,null,m.a.createElement(f.h,null,m.a.createElement(f.k,null,m.a.createElement(f.p,{row:!0},m.a.createElement(f.m,{md:"4"},m.a.createElement(f.r,{htmlFor:"countries"},m.a.createElement("mark",{className:"text-primary"},m.a.createElement("strong",null,m.a.createElement("small",null,"*Countries")))),m.a.createElement(f.q,{disabled:e.state.inputs.selectedCountries.length>0,type:"select",name:"countries",id:"countries",bsSize:"sm",value:e.state.inputs.selectedCountry,onChange:e.onCountryChange.bind(e,t)},m.a.createElement("option",{value:""},"Please add a country"),t.countries.map(function(e,t){return m.a.createElement("option",{key:t,value:e.Key},e.CountryName)})))),m.a.createElement(f.v,null,e.state.inputs.selectedCountries.map(function(a,r){return m.a.createElement(f.a,{className:"mb-0 mr-1 pr-5",key:a+r,color:r<5?w[r]:w[4],isOpen:!0,toggle:e.onDismiss.bind(e,a,t)},m.a.createElement("div",null,t.allDataObject[a].CountryName))}))),m.a.createElement(f.i,null,m.a.createElement(f.v,null,m.a.createElement(f.m,{sm:"3"},m.a.createElement(f.l,{className:"mb-0"},"Covid-19 Cases"),m.a.createElement("div",{className:"small text-muted"},"2020")),m.a.createElement(f.m,{sm:"3"},m.a.createElement(f.p,null,m.a.createElement(f.r,{htmlFor:"name"},"Prediction Number"),m.a.createElement(f.q,{type:"text",id:"maxConfirmed",name:"maxConfirmed",value:e.state.maxConfirmed,placeholder:"Enter max confirmed",onChange:e.onMaxConfirmedChange.bind(e,t)}))),m.a.createElement(f.m,{sm:"6",className:"d-none d-sm-inline-block"},m.a.createElement(f.g,{className:"float-right","aria-label":"Toolbar with button groups"},m.a.createElement(f.f,{className:"mr-3","aria-label":"First group"},m.a.createElement(f.e,{className:"text-dark",color:"outline-primary",onClick:function(){return e.onRadioBtnClick(0,t)},active:0!==e.state.radioSelected},"Normal"),m.a.createElement(f.e,{className:"text-dark",color:"outline-primary",onClick:function(){return e.onRadioBtnClick(1,t)},active:1!==e.state.radioSelected},"MA"),m.a.createElement(f.e,{className:"text-dark",color:"outline-primary",onClick:function(){return e.onRadioBtnClick(2,t)},active:2!==e.state.radioSelected},"EMA"),m.a.createElement(f.e,{className:"text-dark",color:"outline-primary",onClick:function(){return e.onRadioBtnClick(3,t)},active:3!==e.state.radioSelected},"WMA"))))),m.a.createElement("div",{className:"chart-wrapper",style:{height:"400px",marginTop:"20px"}},m.a.createElement(h.b,{data:e.state.mainChart,options:e.state.mainChartOpts,height:400})))))))})}}]),t}(p.Component);t.default=j}}]);
//# sourceMappingURL=9.a9c34773.chunk.js.map